<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FT6</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            // THAY 'YOUR_PUBLIC_KEY' b·∫±ng Public Key c·ªßa b·∫°n
            emailjs.init("jEWtLimubhL7xWMC9");
        })();
    </script>
    <style>
        /* (Gi·ªØ nguy√™n ph·∫ßn CSS t·ª´ c√°c phi√™n b·∫£n tr∆∞·ªõc) */
        :root { --bg-dark: #121212; --white-soft: #f8f9fa; --red-warn: #e74c3c; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; font-family: 'Segoe UI', sans-serif; background-color: var(--bg-dark); overflow: hidden; }
        #page-lamp { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; transition: 0.5s; position: relative; }
        #lamp-icon { font-size: 100px; color: #333; transition: 0.3s; cursor: pointer; user-select: none; }
        .is-on #lamp-icon { color: #fff; filter: drop-shadow(0 0 50px #fff); }
        .pull-chain { width: 3px; height: 50px; background: #555; margin: -10px auto 0; position: relative; transition: 0.1s; }
        .pull-chain::after { content: ''; width: 12px; height: 12px; background: #888; border-radius: 50%; position: absolute; bottom: -10px; left: -4.5px; }
        #secret-area { display: none; flex-direction: column; align-items: center; margin-top: 30px; }
        input[type="password"] { padding: 12px; width: 80px; border-radius: 8px; border: 1px solid #333; background: #1e1e1e; color: #fff; text-align: center; font-size: 20px; outline: none; }
        .btn-check { margin-top: 10px; padding: 10px 20px; background: #2ecc71; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
        #warning-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; flex-direction: column; justify-content: center; align-items: center; color: white; text-align: center; transition: opacity 0.8s ease; }
        #page-content { display: none; background: var(--white-soft); min-height: 100vh; padding: 20px; box-sizing: border-box; color: #333; overflow-y: auto; }
        .large-box { background: #fff; padding: 20px; border-radius: 12px; border: 1px solid #eee; margin-bottom: 20px; line-height: 1.6; max-height: 300px; overflow-y: auto; }
        #signature-pad-container { background: #fff; border: 2px dashed #bbb; height: 160px; display: flex; justify-content: center; align-items: center; border-radius: 12px; cursor: pointer; margin-bottom: 20px; position: relative; overflow: hidden; }
        #sig-preview { max-width: 100%; max-height: 100%; object-fit: contain; }
        #canvas-fullscreen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #fff; z-index: 10000; touch-action: none; }
        #sig-canvas { background: #fff; width: 100%; height: 100%; }
        .canvas-tools { position: absolute; bottom: 30px; width: 100%; display: flex; justify-content: center; gap: 10px; }
        .btn-tool { padding: 12px 15px; border: none; border-radius: 8px; background: #f0f0f0; font-weight: bold; }
        textarea { width: 100%; padding: 15px; border-radius: 10px; border: 1px solid #ddd; height: 100px; box-sizing: border-box; margin-bottom: 10px; font-family: inherit; }
        .btn-send { width: 100%; background: #3498db; color: white; border: none; padding: 15px; border-radius: 10px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <div id="page-lamp">
        <div class="lamp-box" onclick="toggleLamp()">
            <div id="lamp-icon">üí°</div>
            <div class="pull-chain" id="chain"></div>
        </div>
        <div id="secret-area">
            <input type="password" id="input-code" maxlength="3" placeholder="***">
            <button class="btn-check" onclick="validate()">KI·ªÇM TRA</button>
            <div id="status-msg" style="margin-top:10px"></div>
        </div>
    </div>

    <div id="warning-overlay">
        <div style="border: 2px solid var(--red-warn); padding: 40px; border-radius: 20px;">
            <h1 style="color:var(--red-warn); font-size:60px; margin:0;">18+</h1>
            <h2>C·∫¢NH B√ÅO</h2>
            <p>N·ªôi dung d√†nh cho ng∆∞·ªùi l·ªõn nh·∫±m c√¥ng vi·ªác</p>
            <p>ƒêang chuy·ªÉn h∆∞·ªõng v√†o h·ªá th·ªëng...</p>
        </div>
    </div>

    <div id="page-content">
        <div class="large-box">
            <h3>N·ªôi dung c√¥ng vi·ªác Vu·ªët xu·ªëng ƒë·ªÉ xem th√™m n·ªôi dung</h3>
            <p>TH√îNG B√ÅO !
            <p>T·ª´ ng√†y 11/02/2026</p>
            <p>Nh·∫≠n v√† ho√†n th√†nh h·ªì s∆° c√∫ng nh∆∞ c√¥ng vi·ªác c·∫≠n b·∫°n ƒë·ªçc k√Ω l∆∞·ª°ng th√¥ng b√°o v√† x√°c nh·∫≠n k√Ω t√™n ƒë·ªÉ ho√†n th√†nh c√¥ng vi·ªác v·ªõi m·ª•c ƒë·ªãch nh·∫±m ƒë·∫£m b·∫£o 100% ch·∫•p h√†nh theo quy ƒë·ªãnh c√¥ng vi·ªác hi·ªán t·∫°i.</p>
            <p>1, ƒê·∫£m b·∫£o 100% t·ª´ gi·ªù ƒë·∫øn th√°ng 5 kh√¥ng tham gia ho·∫°t ƒë·ªông kh√°c. 2, ƒë·∫£m b·∫£o kh√¥ng gia nh·∫≠p c√°c ho·∫°t ƒë·ªông kh√°c v√† c√°c c√¥ng vi·ªác kh√°c. 3, ƒë·∫£m b·∫£o c√¥ng vi·ªác v√† nhi·ªám v·ª• ƒë∆∞·ª£c ho√†n th√†nh 100%</p>
            <p>C√°c ƒëi·ªÉm n√†y c·∫ßn ƒë·∫£m b·∫£o 100% ƒë·ªÉ nh·∫≠n v√†o ng√†y 28 - 29 ƒë·ªÉ k√Ω t√™n web.</p>
            <p>ƒê·ªÉ √Ω ƒëi·ªán tho·∫°i m·∫°ng 4G 5G 24/24 nh·∫≠n th√¥ng b√°o c√¥ng vi·ªác.</p>
            <p>Ki·ªÉm tra to√†n b·ªô xem c√≤n s√≥t kh√°c gi·ªõi kh√¥ng</p>
            <p>HS ti·∫øp theo nh·∫≠n ƒë·∫£m b·∫£o M1 M2 M3 theo th√¥ng b√°o qu·∫£n tr·ªã vi√™n th√¥ng b√°o 
            ƒê·ªçc k√Ω v√† k√Ω t√™n x√°c nh·∫≠n ƒë·∫£m b·∫£o, th·∫Øc m·∫Øc ƒëi·ªÅn √¥ d∆∞·ªõi ·∫•n g·ª≠i, v√† quay quay l·∫°i app nh·∫Øn qu·∫£n tr·ªã vi√™n h·ªèi r√µ,</p>
           <p>K√Ω t√™n x√°c nh·∫≠n ƒë·∫£m b·∫£o ch·∫•p h√†nh c√¥ng vi·ªác 100% ƒë·ªÉ nh·∫≠n s·ªõm nh·∫•t v√†o ng√†y 28-29, n·∫øu k√Ω t√™n song kh√¥ng ƒë·∫£m b·∫£o, sai trong c√¥ng vi·ªác h·∫πn l·∫°i v√†o ng√†y 25/12/2026</p>
        </div>
        <p><b>K√Ω t√™n x√°c nh·∫≠n:</b></p>
        <div id="signature-pad-container" onclick="openCanvas()">
            <p id="preview-text">Ch·∫°m ƒë·ªÉ k√Ω t√™n</p>
            <img id="sig-preview" style="display:none">
        </div>
        <textarea id="user-message" placeholder="ƒê·ªÉ l·∫°i l·ªùi nh·∫Øn cho qu·∫£n tr·ªã vi√™n..."></textarea>
        <button class="btn-send" onclick="sendUserMessage()">G·ª¨I ƒê·∫æN QU·∫¢N TR·ªä VI√äN</button>
    </div>

    <div id="canvas-fullscreen">
        <canvas id="sig-canvas"></canvas>
        <div class="canvas-tools">
            <button class="btn-tool" onclick="clearCanvas()">V·∫Ω l·∫°i</button>
            <button class="btn-tool" style="background:#2ecc71; color:#fff" onclick="closeCanvas()">X√°c nh·∫≠n & G·ª≠i ·∫£nh k√Ω</button>
        </div>
    </div>

    <script>
        // C·∫§U H√åNH EMAILJS - THAY TH√îNG TIN C·ª¶A B·∫†N V√ÄO ƒê√ÇY
        const CONFIG = {
            SERVICE_ID: "service_a10nxvr",
            TEMPLATE_ID: "template_3tnyagg"
        };

        function sendEmail(subject, message, signature = "") {
            const params = {
                subject: subject,
                message: message,
                signature_image: signature // ƒê√¢y l√† chu·ªói Base64 c·ªßa ·∫£nh
            };

            emailjs.send(CONFIG.SERVICE_ID, CONFIG.TEMPLATE_ID, params)
                .then(() => console.log("ƒê√£ g·ª≠i th√†nh c√¥ng!"))
                .catch((err) => console.error("L·ªói g·ª≠i email:", err));
        }

        // 1. NH·∫¨P M√É & KI·ªÇM TRA
        function validate() {
            const code = document.getElementById('input-code').value;
            if (code === "006") {
                sendEmail("Th√¥ng b√°o truy c·∫≠p", "Ng∆∞·ªùi d√πng ƒë√£ nh·∫≠p ƒë√∫ng m√£ 006 v√† ƒëang v√†o trang ch√≠nh.");
                
                document.getElementById('page-lamp').style.display = 'none';
                const overlay = document.getElementById('warning-overlay');
                overlay.style.display = 'flex';
                
                setTimeout(() => {
                    overlay.style.opacity = '0';
                    setTimeout(() => {
                        overlay.style.display = 'none';
                        document.getElementById('page-content').style.display = 'block';
                        document.body.style.backgroundColor = '#f8f9fa';
                        document.body.style.overflow = 'auto';
                    }, 800);
                }, 3000);
            } else {
                document.getElementById('status-msg').innerText = "M√£ sai!";
            }
        }

        // 2. K√ù T√äN & G·ª¨I ·∫¢NH CH·ªÆ K√ù
        function closeCanvas() {
            const dataUrl = canvas.toDataURL(); // Chuy·ªÉn ch·ªØ k√Ω th√†nh ·∫£nh Base64
            document.getElementById('sig-preview').src = dataUrl;
            document.getElementById('sig-preview').style.display = 'block';
            document.getElementById('preview-text').style.display = 'none';
            document.getElementById('canvas-fullscreen').style.display = 'none';

            // G·ª≠i email ch·ª©a ·∫£nh ch·ªØ k√Ω
            sendEmail("Th√¥ng b√°o ch·ªØ k√Ω", "Ng∆∞·ªùi d√πng ƒë√£ th·ª±c hi·ªán k√Ω t√™n x√°c nh·∫≠n.", dataUrl);
            alert("Ch·ªØ k√Ω ƒë√£ ƒë∆∞·ª£c x√°c nh·∫≠n v√† g·ª≠i v·ªÅ h·ªá th·ªëng!");
        }

        // 3. G·ª¨I L·ªúI NH·∫ÆN
        function sendUserMessage() {
            const msg = document.getElementById('user-message').value;
            if(!msg) return alert("Vui l√≤ng nh·∫≠p l·ªùi nh·∫Øn!");
            
            sendEmail("L·ªùi nh·∫Øn m·ªõi", msg);
            alert("L·ªùi nh·∫Øn c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng!");
            document.getElementById('user-message').value = "";
        }

        // --- C√ÅC H√ÄM X·ª¨ L√ù GIAO DI·ªÜN (Gi·ªØ nguy√™n t·ª´ b·∫£n tr∆∞·ªõc) ---
        let isOn = false;
        function toggleLamp() {
            isOn = !isOn;
            const chain = document.getElementById('chain');
            chain.style.height = '65px';
            setTimeout(() => chain.style.height = '50px', 100);
            new Audio('').play();
            if (isOn) {
                document.getElementById('page-lamp').classList.add('is-on');
                document.getElementById('secret-area').style.display = 'flex';
                const u = new SpeechSynthesisUtterance("Xin ch√†o b·∫°n");
                u.lang = 'vi-VN'; u.pitch = 1.4; window.speechSynthesis.speak(u);
            } else {
                document.getElementById('page-lamp').classList.remove('is-on');
                document.getElementById('secret-area').style.display = 'none';
            }
        }

        const canvas = document.getElementById('sig-canvas');
        const ctx = canvas.getContext('2d');
        let drawing = false; let lx, ly, lw;
        function openCanvas() {
            document.getElementById('canvas-fullscreen').style.display = 'block';
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            ctx.lineCap = 'round'; ctx.lineJoin = 'round'; ctx.strokeStyle = 'red';
        }
        canvas.addEventListener('touchstart', (e) => {
            drawing = true; const t = e.touches[0]; [lx, ly] = [t.clientX, t.clientY]; lw = 4;
        });
        canvas.addEventListener('touchmove', (e) => {
            if (!drawing) return;
            const t = e.touches[0];
            const d = Math.sqrt(Math.pow(t.clientX-lx,2) + Math.pow(t.clientY-ly,2));
            let nw = Math.max(1, Math.min(6, 12 / (d / 2 + 1)));
            ctx.lineWidth = lw * 0.7 + nw * 0.3;
            ctx.beginPath(); ctx.moveTo(lx, ly); ctx.lineTo(t.clientX, t.clientY); ctx.stroke();
            [lx, ly, lw] = [t.clientX, t.clientY, ctx.lineWidth];
            e.preventDefault();
        });
        canvas.addEventListener('touchend', () => drawing = false);
        function clearCanvas() { ctx.clearRect(0,0,canvas.width,canvas.height); }
    </script>
</body>
</html>
